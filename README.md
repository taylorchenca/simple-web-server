## High-level description 
This assignment requires students to build a simple web server that can serve GET requests.
My program accepts incoming client connections, parses the client's request, and serves the requested files with appropriate headers.
The program uses a multi-threaded approach. One thread is created for each connection.
Besides 200 OK, the server is capable of returning the following.
400
If a request is not in the form of "GET endpoint HTTP/1.1", a 400 Bad Request is returned.
403
If the requested file does not have "others read" permission, a 403 Forbidden is returned.
404
When a FileNotFoundException is caught, a 404 Not Found is returned.

This project implements the persistent connection with dynamic timeout required by the extra credit.
The timeout is determined by (default timeout / # active connections).   
In this case, default timeout is set to 5000ms. Therefore, when there is only 1 active connection, that connection is set to timeout in 5000ms. When there are 2 active connections, the incoming connection would be set to timeout in 2500ms, and so on.  
A client can take advantage of this feature to make multiple requests using the same connection. This would be especially useful in the case where a request to a web page results in multiple subsequent requests for assets such as css or images.  
In the duration that a socket is kept open, it waits for the client's each request and responds to those requests.

## File description 
./src/main/java
    Main.java - entry point for the program
    SimpleListener.java - contains a forever loop that listens for incoming connection requests
    SimpleWebServer.java - contains main logic for the web server
    SimpleFileHandler.java - contains the file related logic for the web server
    SimpleHttpRequest - contains the logic for parsing an http request
    SimpleHttpResponseHeader - contains the logic for assembling an http response header
    FileStatus - contains enum for file status
pom.xml - dependency management
COEN317Project1.iml - project meta file generated by Intellij IDEA
start_server.sh - starts the server for test purpose
start_client.sh - starts an nc client to connect to the server
test_requests.sh - contains a list of requests for testing the server
sample_output.txt - contains result of running the test scripts
test_endpoint - folder containing test web resources
Screenshots - contains images of accessing the web server from a web browser

## System requirements 
Java  
Maven 

## How to run 
Compile 
cd to the COEN317Project1 folder, execute the following command to create the executable jar.  
mvn clean compile assembly:single

Run 
java -jar ./target/COEN317Project1-1.0-SNAPSHOT-jar-with-dependencies.jar -document_root "/xxx/xxx" -port xxx 

Now you will be able to request from the web server from either a web browser or a command line program. 

## How to run test script 
### Build and start server 
./start_server.sh 

### Start client and supply requests 
cat test_requests.txt | ./start_client.sh 